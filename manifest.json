{
	"manifest_version": 3,
	"name": "JabRef Browser Extension",
	"version": "3.0",
	"description": "The JabRef browser extension imports new bibliographic information directly from the browser into JabRef.",
  
	"background": {
		"service_worker": "background.js",
		"type": "module"
	},

	"action": {
		"default_icon": {
			"48": "data/JabRef-icon-48.png",
			"96": "data/JabRef-icon-96.png"
		},
		"default_title": "Import references into JabRef",
		"default_popup": "data/progressPanel.html"
	},

	"permissions": [
		"activeTab",
		"scripting",
		"storage",
		"nativeMessaging"
	],

	"host_permissions": [
		"<all_urls>"
	],

	"content_scripts": [{
		"matches": ["http://*/*", "https://*/*"],
		"run_at": "document_start",
		"js": [
			"browser-polyfill.min.js",
			"external-scripts/zotero_config.js",
			"external-scripts/zotero.js",
			"external-scripts/promise.js",
			"external-scripts/http.js",
			"external-scripts/proxy.js",
			"external-scripts/date.js",
			"external-scripts/debug.js",
			"external-scripts/utilities-schema.js",
			"external-scripts/openurl.js",
			"external-scripts/xregexp-all.js",
			"external-scripts/xregexp-unicode-zotero.js",
			"external-scripts/cachedTypes.js",
			"external-scripts/schema.js",
			"external-scripts/rdf/init.js",
			"external-scripts/rdf/uri.js",
			"external-scripts/rdf/term.js",
			"external-scripts/rdf/identity.js",
			"external-scripts/rdf/rdfparser.js",
			"external-scripts/translate.js",
			"external-scripts/translator.js",
			"external-scripts/translate_item.js",
			"external-scripts/utilities.js",
			"external-scripts/utilities_item.js",
			"external-scripts/utilities_translate.js",
			"external-scripts/utilities-common.js",
			"external-scripts/http_inject.js",
			"external-scripts/messages.js",
			"external-scripts/messaging_inject.js",
			"bibtexConverter.js"
		]
	}],

	"web_accessible_resources": [{
		"resources": [
			"data/*",
			"external-scripts/*"
		],
		"matches": ["<all_urls>"]
	}],

	"commands": {
		"_execute_action": {
			"suggested_key": {
				"default": "Alt+Shift+J"
			},
			"description": "Import references into JabRef"
		}
	},

	"content_security_policy": {
		"extension_pages": "script-src 'self'; object-src 'self'"
	},

	"browser_specific_settings": {
		"gecko": {
			"id": "@jabfox"
		}
	},

	"author": "JabRef",

	"developer": {
		"name": "JabRef",
		"url": "http://www.jabref.org/"
	},

	"homepage_url": "http://www.jabref.org/",

	"icons": {
		"48": "data/JabRef-icon-48.png",
		"96": "data/JabRef-icon-96.png"
	},

	"options_ui": {
		"page": "data/options.html",
		"browser_style": true
	}
}
